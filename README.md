# Snake Game with Chatroom & AI Player

## 1. 專案定位（Project Positioning）

本專案是一個以 **互動式貪吃蛇遊戲** 為載體的前端系統設計實作，  
整合 **即時聊天室** 與 **AI 玩家決策模組**，用以展示以下工程能力：

- 系統模組劃分與責任界定
- 遊戲邏輯、UI、AI 的解耦設計
- AI 決策流程的工程化實作
- 即時互動功能與主系統的協同運作

本專案的核心價值不在於遊戲複雜度，而在於**架構清晰度與可擴充性**，  
適合作為系統設計與前端工程能力的作品展示。

---

## 2. 系統目標與設計約束（Goals & Constraints）

### 2.1 系統目標

- 提供即時可互動的貪吃蛇遊戲體驗
- 支援人類玩家與 AI 玩家共用同一套遊戲邏輯
- 將聊天室功能與遊戲主循環解耦
- 確保各模組可獨立演進與替換

### 2.2 設計約束

- 前端實作（無後端依賴）
- AI 模組需可在無 UI 的情況下運作
- 架構需保留未來多人連線與 AI 升級空間

---

## 3. 系統功能概覽（Functional Overview）

- 貪吃蛇遊戲（即時更新）
- 即時聊天室（玩家互動）
- AI Player（自動控制蛇的移動）
- 模組化系統架構
- 可替換的 AI 決策策略

---

## 4. 系統整體架構（System Architecture）

### 4.1 架構分層

系統劃分為三個主要層級：

- **UI Layer**  
  負責畫面呈現與使用者互動

- **Game Logic Layer**  
  負責遊戲規則、狀態轉移與碰撞判斷

- **AI Decision Layer**  
  根據遊戲狀態計算下一步行為

### 4.2 架構關係說明

- UI 僅負責顯示與事件觸發
- 遊戲邏輯不依賴任何 UI 實作
- AI 與人類玩家皆透過相同邏輯介面控制遊戲

此設計可避免 UI 與邏輯高度耦合，  
並讓 AI 模組能夠獨立測試與升級。

---

## 5. 專案目錄與模組責任（Module Responsibility）

本專案採用模組化目錄設計，各模組職責如下：

- **src/**
  - **components/**
    - **GameBoard/**  
      遊戲主畫面與狀態顯示，負責將遊戲狀態轉換為畫面。
    - **ChatRoom/**  
      聊天室 UI 與訊息互動邏輯，與遊戲主循環解耦。
    - **AIPlayer/**  
      AI 玩家決策模組，輸入遊戲狀態並輸出移動方向。
  - **hooks/**  
    封裝狀態管理與共用邏輯的自訂 Hooks。
  - **services/**  
    對外通訊或服務介面（目前保留為擴充用途）。
  - **utils/**  
    共用工具函式與輔助邏輯。
  - **App.tsx**  
    系統入口，負責模組組裝與整體流程控制。

此目錄配置刻意避免「邏輯集中於單一 component」的反模式，  
以提升可讀性、可維護性與測試彈性。

---

## 6. AI Player 設計（AI Decision Design）

### 6.1 設計理念

AI Player 被視為一個**純決策模組**：

- 不負責畫面
- 不直接修改 UI
- 僅根據遊戲狀態輸出行為決策

此設計可讓 AI 模組在未來被替換或獨立測試。

### 6.2 決策流程

**輸入狀態（State）**
- 蛇目前的位置（Snake Body）
- 食物位置（Food）
- 地圖邊界大小

**輸出行為（Action）**
- 移動方向：Up / Down / Left / Right

### 6.3 現行策略（Rule-based Heuristic）

- 計算蛇頭與食物的相對距離
- 優先縮短距離最大的方向
- 避免立即碰撞牆壁或非法移動

### 6.4 為何未採用強化學習

- 本專案以工程可讀性與可審查性為優先
- 強化學習需額外訓練流程與參數管理
- Rule-based 策略更適合作為基礎系統版本

未來仍可擴充為：
- A* Pathfinding
- Reinforcement Learning（TensorFlow.js）
- AI Self-play 模式

---

## 7. Chatroom 模組設計（Chatroom Design）

聊天室模組的設計目標為：

- 與遊戲主邏輯完全解耦
- 不影響遊戲效能與更新頻率
- 作為即時互動功能的展示模組

目前實作為前端即時互動版本，  
架構上已預留升級為 WebSocket 或多人連線的可能性。

---

## 8. 技術選型（Technology Stack）

- React
- TypeScript
- React Hooks
- 模組化前端架構
- Rule-based AI 決策邏輯

---

## 9. 系統執行方式（Build & Run）

### 環境需求
- Node.js ≥ 18
- npm 或 yarn

### 安裝
```bash
npm install
